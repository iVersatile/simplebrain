# SimpleBrain - æœ¬åœ° AI åŠ©æ‰‹

ä¸€ä¸ªç®€åŒ–ã€è½»é‡çº§çš„æœ¬åœ°å¤§è¯­è¨€æ¨¡å‹ç³»ç»Ÿï¼Œä¸“ä¸ºç¦»çº¿AIåŠ©æ‰‹ä¼˜åŒ–ï¼Œæ— éœ€äº‘ç«¯ä¾èµ–ã€‚ç°åœ¨æ”¯æŒ**å¤šå®ä¾‹éƒ¨ç½²**ï¼Œå¯åŒæ—¶è¿è¡Œå¤šä¸ªAIæ¨¡å‹ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å•å®ä¾‹éƒ¨ç½²ï¼ˆä¼ ç»Ÿæ¨¡å¼ï¼‰

```bash
# è®¾ç½®ï¼ˆä¸€æ¬¡æ€§ï¼‰
./setup_local_llm.sh

# å¯åŠ¨ä½ çš„AIåŠ©æ‰‹
./automate_local_llm.sh start

# ä½¿ç”¨ä½ çš„AIåŠ©æ‰‹
./ask_agent.sh "ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ï¼Ÿ"
./cli_agent.py  # äº¤äº’æ¨¡å¼
```

### å¤šå®ä¾‹éƒ¨ç½²ï¼ˆå…¨æ–°ï¼ï¼‰

```bash
# éƒ¨ç½²å¤šä¸ªä¸åŒæ¨¡å‹çš„å®¹å™¨
docker-compose -f docker-compose.multi-instance.yml up -d

# ä½¿ç”¨æ™ºèƒ½å®¢æˆ·ç«¯å·¥å…·å®šå‘ç‰¹å®šLLM
./ask_llm.sh general "ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ï¼Ÿ"        # Phi-3 (å¿«é€Ÿï¼Œé€šç”¨)
./ask_llm.sh coding "å†™ä¸€ä¸ªPythonå‡½æ•°"           # Mistral-7B (ç¼–ç¨‹)
./ask_llm.sh chat "å‘Šè¯‰æˆ‘ä¸€ä¸ªå…³äºæœºå™¨äººçš„æ•…äº‹"        # Llama-3 (å¯¹è¯)

# LLMåˆ‡æ¢çš„äº¤äº’æ¨¡å¼
python3 ask_llm.py --interactive

# æ£€æŸ¥æ‰€æœ‰å®ä¾‹å¥åº·çŠ¶æ€
./ask_llm.sh health
```

## ç‰¹æ€§

- **ğŸ§  æœ¬åœ°AI**: é€šè¿‡llama.cppæ¨ç†æ”¯æŒå¤šæ¨¡å‹
- **ğŸ”’ æ— äº‘ç«¯ä¾èµ–**: å®Œå…¨ç¦»çº¿è¿è¡Œ
- **âš¡ è½»é‡çº§**: 4GBæ€»å ç”¨ç©ºé—´ï¼ˆå¯¹æ¯”å¤æ‚ç³»ç»Ÿçš„12GBï¼‰
- **ğŸ›¡ï¸ å®‰å…¨**: å®¹å™¨åŒ–å®‰å…¨åŠ å›º
- **ğŸ”§ ç®€å•**: æ˜“äºä½¿ç”¨å’Œç»´æŠ¤
- **ğŸ”„ å¤šæ¨¡å‹**: å³æ—¶åˆ‡æ¢ä¸åŒAIæ¨¡å‹
- **ğŸ—ï¸ å¤šå®ä¾‹**: åœ¨ä¸åŒç«¯å£åŒæ—¶è¿è¡Œå¤šä¸ªæ¨¡å‹
- **ğŸ¯ ä¸“ç”¨å®ä¾‹**: é’ˆå¯¹ä¸åŒç”¨ä¾‹çš„ä¸“ç”¨å®¹å™¨
- **ğŸ› ï¸ æ™ºèƒ½å®¢æˆ·ç«¯å·¥å…·**: æ™ºèƒ½LLMé€‰æ‹©å’Œäº¤äº’å¼èŠå¤©æ¨¡å¼

## é¡¹ç›®ç»“æ„

```
SimpleBrain/
â”œâ”€â”€ æ ¸å¿ƒè„šæœ¬
â”‚   â”œâ”€â”€ setup_local_llm.sh                 # ä¸€æ¬¡æ€§è®¾ç½®å’Œå®¹å™¨æ„å»º
â”‚   â”œâ”€â”€ automate_local_llm.sh              # ç¯å¢ƒç®¡ç†
â”‚   â”œâ”€â”€ automate_multi_instance.sh         # å¤šå®ä¾‹ç®¡ç† (æ–°å¢!)
â”‚   â””â”€â”€ health_check_llm.sh                # ç³»ç»Ÿå¥åº·ç›‘æ§
â”œâ”€â”€ CLI æ¥å£
â”‚   â”œâ”€â”€ ask_llm.sh                         # å¤šLLMå®¢æˆ·ç«¯ (æ–°å¢!)
â”‚   â”œâ”€â”€ ask_llm.py                         # å¤šLLM Pythonå®¢æˆ·ç«¯ (æ–°å¢!)
â”‚   â”œâ”€â”€ llama_direct_multi.sh              # ç›´æ¥å¤šLLMè®¿é—® (æ–°å¢!)
â”‚   â”œâ”€â”€ ask_agent.sh                       # å•å®ä¾‹CLI
â”‚   â”œâ”€â”€ cli_agent.py                       # äº¤äº’å¼èŠå¤©ç•Œé¢
â”‚   â””â”€â”€ llama_direct.sh                    # ç›´æ¥LLMè®¿é—® (ä»…å•å®ä¾‹)
â”œâ”€â”€ é…ç½®
â”‚   â”œâ”€â”€ Dockerfile.local-llm               # æœ€å°åŒ–å®¹å™¨å®šä¹‰
â”‚   â”œâ”€â”€ docker-compose.local-llm.yml       # å•å®ä¾‹ç¼–æ’
â”‚   â””â”€â”€ docker-compose.multi-instance.yml  # å¤šå®ä¾‹ç¼–æ’ (æ–°å¢!)
â”œâ”€â”€ æ•°æ®ç›®å½•
â”‚   â”œâ”€â”€ models/                            # AIæ¨¡å‹æ–‡ä»¶ (å®ä¾‹é—´å…±äº«)
â”‚   â”œâ”€â”€ workspace/                         # llama.cppæ„å»ºç›®å½•
â”‚   â”œâ”€â”€ local_agent_workspace/             # Flask APIåº”ç”¨ç¨‹åº
â”‚   â””â”€â”€ instances/                         # å®ä¾‹ç‰¹å®šé…ç½® (æ–°å¢!)
â”‚       â”œâ”€â”€ general/                       # é€šç”¨ç›®çš„å®ä¾‹
â”‚       â”œâ”€â”€ coding/                        # ç¼–ç¨‹ååŠ©å®ä¾‹
â”‚       â””â”€â”€ chat/                          # å¯¹è¯å®ä¾‹
â””â”€â”€ å¯åŠ¨è„šæœ¬
    â”œâ”€â”€ startup.sh                         # å…¨åŠŸèƒ½å¯åŠ¨è„šæœ¬
    â””â”€â”€ startup_simple.sh                  # è½»é‡çº§å¯åŠ¨è„šæœ¬
```

## å¤šå®ä¾‹æ¶æ„

### å®ä¾‹é…ç½®

| å®ä¾‹ | ç«¯å£ | æ¨¡å‹ | å¤§å° | æœ€é€‚åˆ | å†…å­˜ | ç½‘ç»œ |
|----------|------|-------|------|----------|--------|---------|
| **general** | 5001 | Phi-3 Mini 4K | 2.4GB | é€šç”¨ä»»åŠ¡ï¼Œé—®ç­” | 4GB RAM | 172.25.1.0/24 |
| **coding** | 5002 | Mistral 7B | 4.1GB | ç¼–ç¨‹ï¼Œè°ƒè¯• | 6GB RAM | 172.25.2.0/24 |
| **chat** | 5003 | Llama 3 8B | 4.6GB | å¯¹è¯ï¼Œåˆ›æ„å†™ä½œ | 8GB RAM | 172.25.3.0/24 |

### å‘½åçº¦å®š

- **Dockeré•œåƒ**: `simplebrain-{model}:v1.0` (å¦‚ `simplebrain-phi3:v1.0`)
- **å®¹å™¨**: `simplebrain-{instance}-{model}` (å¦‚ `simplebrain-coding-mistral`)
- **ç½‘ç»œ**: `simplebrain-{instance}-net` (å¦‚ `simplebrain-coding-net`)
- **ç›®å½•**: `./instances/{instance}/` (å¦‚ `./instances/coding/`)

### å¤šå®ä¾‹ç›®å½•ç»“æ„

```
simplebrain/
â”œâ”€â”€ ğŸ“ instances/
â”‚   â”œâ”€â”€ ğŸ“ general/          # Phi-3 å®ä¾‹
â”‚   â”‚   â”œâ”€â”€ workspace/       # llama.cpp æ„å»º
â”‚   â”‚   â”œâ”€â”€ models/          # æ¨¡å‹ç¬¦å·é“¾æ¥
â”‚   â”‚   â””â”€â”€ local_agent_workspace/  # Flask åº”ç”¨
â”‚   â”œâ”€â”€ ğŸ“ coding/           # Mistral å®ä¾‹
â”‚   â””â”€â”€ ğŸ“ chat/             # Llama-3 å®ä¾‹
â”œâ”€â”€ ğŸ“ models/               # å…±äº«æ¨¡å‹æ–‡ä»¶
â”‚   â”œâ”€â”€ phi3-mini-4k.gguf
â”‚   â”œâ”€â”€ mistral-7b.gguf
â”‚   â””â”€â”€ llama3-8b.gguf
â”œâ”€â”€ ğŸ³ docker-compose.multi-instance.yml
â”œâ”€â”€ ğŸ”§ automate_multi_instance.sh
â”œâ”€â”€ ğŸ’¬ ask_agent_multi.sh
â””â”€â”€ âš™ï¸ setup_multi_instance.sh
```

### ç½‘ç»œéš”ç¦»

æ¯ä¸ªå®ä¾‹åœ¨è‡ªå·±çš„éš”ç¦»Dockerç½‘ç»œä¸­è¿è¡Œä»¥ç¡®ä¿å®‰å…¨ã€‚

### å¤šå®ä¾‹ç®¡ç†

#### Docker Compose å‘½ä»¤

```bash
# å¯åŠ¨æ‰€æœ‰å®ä¾‹
docker-compose -f docker-compose.multi-instance.yml up -d

# å¯åŠ¨ç‰¹å®šå®ä¾‹
docker-compose -f docker-compose.multi-instance.yml up -d simplebrain-general-phi3 simplebrain-coding-mistral

# æ£€æŸ¥çŠ¶æ€
docker ps --filter "name=simplebrain"

# æŸ¥çœ‹æ—¥å¿—
docker logs simplebrain-general-phi3
docker logs simplebrain-coding-mistral
docker logs simplebrain-chat-llama3

# å¥åº·æ£€æŸ¥
curl http://localhost:5001/health  # é€šç”¨å®ä¾‹
curl http://localhost:5002/health  # ç¼–ç¨‹å®ä¾‹  
curl http://localhost:5003/health  # èŠå¤©å®ä¾‹

# åœæ­¢æ‰€æœ‰å®ä¾‹
docker-compose -f docker-compose.multi-instance.yml down
```

#### ç®¡ç†è„šæœ¬å‘½ä»¤

```bash
# å¯åŠ¨ç‰¹å®šå®ä¾‹
./automate_multi_instance.sh start general
./automate_multi_instance.sh start coding  
./automate_multi_instance.sh start chat

# å¯åŠ¨æ‰€æœ‰å®ä¾‹
./automate_multi_instance.sh start

# åœæ­¢ç‰¹å®šå®ä¾‹
./automate_multi_instance.sh stop coding

# åœæ­¢æ‰€æœ‰å®ä¾‹
./automate_multi_instance.sh stop

# é‡å¯å®ä¾‹
./automate_multi_instance.sh restart general

# æ˜¾ç¤ºçŠ¶æ€
./automate_multi_instance.sh status

# å¥åº·æ£€æŸ¥
./automate_multi_instance.sh health

# æ˜¾ç¤ºæ—¥å¿—
./automate_multi_instance.sh logs coding

# åˆ—å‡ºå¯ç”¨å®ä¾‹
./automate_multi_instance.sh list

# æ¸…ç†æ‰€æœ‰å†…å®¹
./automate_multi_instance.sh cleanup
```

## å®¢æˆ·ç«¯å·¥å…·

SimpleBrainæä¾›å¤šç§å®¢æˆ·ç«¯å·¥å…·ï¼Œå¯è½»æ¾ä¸ä¸åŒLLMå®ä¾‹äº¤äº’ã€‚

### å¤šLLMå®¢æˆ·ç«¯å·¥å…·ï¼ˆæ¨èï¼‰

#### Shellå®¢æˆ·ç«¯ (`ask_llm.sh`)

é’ˆå¯¹ç‰¹å®šLLMå®ä¾‹ä»¥è·å¾—æœ€ä½³ç»“æœï¼š

```bash
# é€šç”¨é—®é¢˜ (Phi-3 - å¿«é€Ÿ)
./ask_llm.sh general "ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ï¼Ÿ"
./ask_llm.sh general "è§£é‡Šé‡å­è®¡ç®—"

# ç¼–ç¨‹ä»»åŠ¡ (Mistral-7B - æœ€é€‚åˆä»£ç )
./ask_llm.sh coding "å†™ä¸€ä¸ªPythonæ’åºå‡½æ•°"
./ask_llm.sh coding "è°ƒè¯•è¿™ä¸ªJavaScriptä»£ç "
./ask_llm.sh coding "åˆ›å»ºä¸€ä¸ªREST APIç«¯ç‚¹"

# å¯¹è¯ (Llama-3 8B - æœ€é€‚åˆèŠå¤©)
./ask_llm.sh chat "å‘Šè¯‰æˆ‘ä¸€ä¸ªå…³äºå¤ªç©ºæ¢ç´¢çš„æ•…äº‹"
./ask_llm.sh chat "ä½ å¯¹äººå·¥æ™ºèƒ½çš„çœ‹æ³•æ˜¯ä»€ä¹ˆï¼Ÿ"

# å¥åº·æ£€æŸ¥
./ask_llm.sh health                           # æ£€æŸ¥æ‰€æœ‰å®ä¾‹
```

#### Pythonå®¢æˆ·ç«¯ (`ask_llm.py`)

**å•ä¸ªé—®é¢˜:**
```bash
python3 ask_llm.py general "ä»€ä¹ˆæ˜¯AIï¼Ÿ"
python3 ask_llm.py coding "ç”¨Pythonæ’åºåˆ—è¡¨"
python3 ask_llm.py chat "å†™ä¸€é¦–å…³äºæŠ€æœ¯çš„ä¿³å¥"
```

**LLMåˆ‡æ¢çš„äº¤äº’æ¨¡å¼:**
```bash
python3 ask_llm.py --interactive

# åœ¨äº¤äº’æ¨¡å¼å†…:
ğŸ’¬ You (general): ä½ å¥½
ğŸ¤– Response: ä½ å¥½! æˆ‘æ˜¯Phi-3...

ğŸ’¬ You (general): switch coding
åˆ‡æ¢åˆ° coding (Mistral-7B)

ğŸ’¬ You (coding): å†™ä¸€ä¸ªåè½¬å­—ç¬¦ä¸²çš„å‡½æ•°
ğŸ¤– Response: è¿™æ˜¯ä¸€ä¸ªPythonå‡½æ•°...

ğŸ’¬ You (coding): switch chat  
åˆ‡æ¢åˆ° chat (Llama-3 8B)

ğŸ’¬ You (chat): å‘Šè¯‰æˆ‘AIçš„æœªæ¥
ğŸ¤– Response: AIçš„æœªæ¥...
```

**å¥åº·ç›‘æ§:**
```bash
python3 ask_llm.py --health                  # æ£€æŸ¥æ‰€æœ‰å®ä¾‹
python3 ask_llm.py --health coding           # æ£€æŸ¥ç‰¹å®šå®ä¾‹
```

#### ç›´æ¥LLMè®¿é—® (`llama_direct_multi.sh`)

ç»•è¿‡Flask APIï¼Œç›´æ¥ä¸llama.cppé€šä¿¡ä»¥è·å¾—æ›´å¿«å“åº”ï¼š

```bash
# ç›´æ¥è®¿é—®ç‰¹å®šæ¨¡å‹ (æœ€å¿«æ€§èƒ½)
./llama_direct_multi.sh general "ä»€ä¹ˆæ˜¯AIï¼Ÿ"
./llama_direct_multi.sh coding "å†™ä¸€ä¸ªæ’åºå‡½æ•°"
./llama_direct_multi.sh chat "å‘Šè¯‰æˆ‘é‡å­è®¡ç®—"

# æ˜¾ç¤ºå¯ç”¨å®ä¾‹
./llama_direct_multi.sh help
```

**ç›´æ¥è®¿é—®çš„ä¼˜åŠ¿:**
- **æ›´å¿«å“åº”** - æ— Flask APIå¼€é”€
- **åŸå§‹æ¨¡å‹è¾“å‡º** - æœªå¤„ç†çš„LLMå“åº”
- **è°ƒè¯•** - æŸ¥çœ‹æ¨¡å‹åŠ è½½ä¿¡æ¯å’Œæ€§èƒ½æŒ‡æ ‡
- **æµ‹è¯•** - ç›´æ¥éªŒè¯æ¨¡å‹è¡Œä¸º

#### æ™ºèƒ½è‡ªåŠ¨é€‰æ‹©å®¢æˆ·ç«¯ (`ask_agent_multi.sh`)

æ ¹æ®é—®é¢˜å†…å®¹è‡ªåŠ¨é€‰æ‹©æœ€ä½³LLMå®ä¾‹ï¼š

```bash
# è‡ªåŠ¨é€‰æ‹©å®ä¾‹ (æ™ºèƒ½è·¯ç”±)
./ask_agent_multi.sh "æˆ‘å¦‚ä½•è°ƒè¯•Pythonä»£ç ï¼Ÿ"           # â†’ coding
./ask_agent_multi.sh "å‘Šè¯‰æˆ‘é‡å­è®¡ç®—"      # â†’ general  
./ask_agent_multi.sh "ç»™æˆ‘å†™ä¸€é¦–å…³äºæµ·æ´‹çš„è¯—"      # â†’ chat

# æŒ‡å®šç‰¹å®šå®ä¾‹
./ask_agent_multi.sh coding "è§£é‡ŠPythonä¸­çš„async/await"
./ask_agent_multi.sh chat "ä½ æœ€å–œæ¬¢çš„ä¹¦æ˜¯ä»€ä¹ˆï¼Ÿ"
./ask_agent_multi.sh general "ä»€ä¹ˆå¯¼è‡´ä¸‹é›¨ï¼Ÿ"
```

**è‡ªåŠ¨é€‰æ‹©é€»è¾‘:**
- **ç¼–ç¨‹å…³é”®è¯**: `code`, `python`, `function`, `debug`, `api`, `script` â†’ **coding** å®ä¾‹
- **åˆ›æ„å…³é”®è¯**: `story`, `creative`, `poem`, `chat`, `imagine` â†’ **chat** å®ä¾‹  
- **å…¶ä»–æ‰€æœ‰å†…å®¹** â†’ **general** å®ä¾‹

### å®ä¾‹é€‰æ‹©æŒ‡å—

| å®ä¾‹ | æ¨¡å‹ | æœ€é€‚åˆ | ä½•æ—¶ä½¿ç”¨ |
|----------|-------|----------|-------------|
| **general** | Phi-3 Mini 4K | å¿«é€Ÿé—®é¢˜ï¼Œäº‹å®ï¼Œè§£é‡Š | éœ€è¦å¿«é€Ÿå“åº”ï¼Œé€šç”¨çŸ¥è¯† |
| **coding** | Mistral-7B | ç¼–ç¨‹ï¼Œè°ƒè¯•ï¼ŒæŠ€æœ¯ä»»åŠ¡ | ä»£ç ç”Ÿæˆï¼ŒæŠ€æœ¯æ–‡æ¡£ |
| **chat** | Llama-3 8B | å¯¹è¯ï¼Œåˆ›æ„å†™ä½œ | æ·±å…¥è®¨è®ºï¼Œåˆ›æ„å†…å®¹ |

## ç½‘é¡µç•Œé¢

### LLMå±•ç¤ºå°ï¼ˆæµè§ˆå™¨GUIï¼‰

SimpleBrainåŒ…å«ä¸€ä¸ªåŸºäºç½‘é¡µçš„èŠå¤©ç•Œé¢ï¼Œå¯é€šè¿‡ä»»ä½•ç°ä»£ç½‘é¡µæµè§ˆå™¨è½»æ¾ä¸æœ¬åœ°AIæ¨¡å‹äº¤äº’ã€‚

#### æ¶æ„ä¸ç‰¹æ€§

**æ ¸å¿ƒç»„ä»¶:**
- **å‰ç«¯**: ä½¿ç”¨çº¯JavaScriptçš„å•é¡µHTMLåº”ç”¨
- **åç«¯**: ç›´æ¥REST APIè°ƒç”¨SimpleBrainå®ä¾‹
- **æ¨¡å‹**: æ”¯æŒPhi3 (ç«¯å£5001) å’Œ Mistral (ç«¯å£5002)
- **å®æ—¶èŠå¤©**: å¸¦æ¶ˆæ¯å†å²çš„äº¤äº’å¼å¯¹è¯ç•Œé¢
- **å¥åº·ç›‘æ§**: å†…ç½®æ‰€æœ‰æ¨¡å‹çš„è¿æ¥æµ‹è¯•

**ä¸»è¦ç‰¹æ€§:**
- ğŸŒ **åŸºäºæµè§ˆå™¨**: æ— éœ€å®‰è£…é¢å¤–è½¯ä»¶
- ğŸ”„ **æ¨¡å‹åˆ‡æ¢**: åœ¨å¯ç”¨AIæ¨¡å‹é—´åŠ¨æ€é€‰æ‹©
- ğŸ’¬ **èŠå¤©ç•Œé¢**: æ¸…æ´ã€å“åº”å¼çš„å¯¹è¯UI
- ğŸ” **å¥åº·æ£€æŸ¥**: å®æ—¶æ¨¡å‹å¯ç”¨æ€§æµ‹è¯•
- ğŸ“± **å“åº”å¼è®¾è®¡**: åœ¨æ¡Œé¢å’Œç§»åŠ¨æµè§ˆå™¨ä¸Šå·¥ä½œ
- âš¡ **ç›´æ¥APIè®¿é—®**: æ— ä»£ç†æˆ–ä¸­é—´æœåŠ¡

#### ä½¿ç”¨ç¤ºä¾‹

**åŸºæœ¬è®¾ç½®:**

```bash
# 1. å¯åŠ¨ä½ çš„SimpleBrainå®ä¾‹
docker-compose -f docker-compose.multi-instance.yml up -d

# 2. éªŒè¯æ¨¡å‹æ­£åœ¨è¿è¡Œ
./ask_llm.sh health

# 3. æ‰“å¼€ç½‘é¡µç•Œé¢
# é€‰é¡¹A: ç›´æ¥æ–‡ä»¶è®¿é—®
open llm-showcase.html

# é€‰é¡¹B: æœ¬åœ°HTTPæœåŠ¡å™¨ (æ¨èç”¨äºCORSå…¼å®¹æ€§)
python3 -m http.server 8000
# ç„¶åè®¿é—®: http://localhost:8000/llm-showcase.html
```

**äº¤äº’å¼ä½¿ç”¨:**

1. **æ¨¡å‹é€‰æ‹©**: åœ¨Phi3 (é€šç”¨) æˆ– Mistral (ç¼–ç¨‹) é—´é€‰æ‹©
2. **èŠå¤©ç•Œé¢**: è¾“å…¥é—®é¢˜å¹¶æŒ‰Enteræˆ–ç‚¹å‡»å‘é€
3. **å¥åº·æ£€æŸ¥**: ç‚¹å‡»ç»¿è‰²"å¥åº·æ£€æŸ¥"æŒ‰é’®æµ‹è¯•è¿æ¥
4. **æ¸…é™¤èŠå¤©**: éšæ—¶é‡ç½®å¯¹è¯å†å²

#### æ•…éšœæ’é™¤

**å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ:**

**1. "Failed to fetch" é”™è¯¯**
```
ç—‡çŠ¶: Connection failed - Failed to fetch
åŸå› : æµè§ˆå™¨ä¸­çš„CORSé™åˆ¶
è§£å†³æ–¹æ¡ˆ:
# ä½¿ç”¨æœ¬åœ°HTTPæœåŠ¡å™¨è€Œéfile://åè®®
python3 -m http.server 8000
# é€šè¿‡è®¿é—®: http://localhost:8000/llm-showcase.html
```

**2. "è¿æ¥å¤±è´¥" æ¶ˆæ¯**
```
ç—‡çŠ¶: âŒ Phi3 (General): Connection failed
åŸå› : SimpleBrainæœåŠ¡æœªè¿è¡Œ
è§£å†³æ–¹æ¡ˆ:
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
./ask_llm.sh health
docker ps --filter "name=simplebrain"

# å¦‚æœ‰éœ€è¦å¯åŠ¨æœåŠ¡
docker-compose -f docker-compose.multi-instance.yml up -d
```

## APIè®¿é—®

### å•å®ä¾‹API

ç³»ç»Ÿåœ¨ `http://localhost:5001/api/agent` æä¾›HTTP API

### å¤šå®ä¾‹API

å¤šä¸ªä¸“ç”¨ç«¯ç‚¹å¯ç”¨ï¼š

```bash
# é€šç”¨ç›®çš„ (Phi-3)
curl -X POST -H "Content-Type: application/json" \
  -d '{"prompt": "ä½ å¥½"}' \
  http://localhost:5001/api/agent

# ç¼–ç¨‹ååŠ© (Mistral-7B)
curl -X POST -H "Content-Type: application/json" \
  -d '{"prompt": "å†™ä¸€ä¸ªæ’åºç®—æ³•"}' \
  http://localhost:5002/api/agent

# å¯¹è¯ (Llama-3 8B)
curl -X POST -H "Content-Type: application/json" \
  -d '{"prompt": "è®¨è®ºç”Ÿå‘½çš„æ„ä¹‰"}' \
  http://localhost:5003/api/agent
```

### å¥åº·ç«¯ç‚¹

```bash
curl http://localhost:5001/health  # é€šç”¨å®ä¾‹å¥åº·
curl http://localhost:5002/health  # ç¼–ç¨‹å®ä¾‹å¥åº·
curl http://localhost:5003/health  # èŠå¤©å®ä¾‹å¥åº·
```

## å¤šæ¨¡å‹æ”¯æŒ

SimpleBrainæ”¯æŒå¤šä¸ªAIæ¨¡å‹ï¼Œä½ å¯ä»¥åœ¨å®ƒä»¬ä¹‹é—´åˆ‡æ¢æˆ–åŒæ—¶è¿è¡Œï¼š

### å¯ç”¨æ¨¡å‹

| æ¨¡å‹ | å¤§å° | æœ€é€‚åˆ | é€Ÿåº¦ | å†…å­˜ | å¤šå®ä¾‹ç«¯å£ |
|-------|------|----------|--------|--------|--------------------|
| **Phi-3 Mini** | 2.4GB | é€šç”¨ä»»åŠ¡ï¼Œå¿«é€Ÿå“åº” | âš¡âš¡âš¡ | 4GB | 5001 |
| **Mistral 7B** | 4.1GB | ç¼–ç¨‹ï¼Œæ•°å­¦ï¼Œæ¨ç† | âš¡âš¡ | 6GB | 5002 |
| **Llama 3 8B** | 4.6GB | é«˜è´¨é‡å¯¹è¯ | âš¡âš¡ | 8GB | 5003 |
| **Code Llama** | 4.0GB | ç¼–ç¨‹ä»»åŠ¡ | âš¡âš¡ | 6GB | è‡ªå®šä¹‰ |

### æ¨¡å‹åˆ‡æ¢ï¼ˆå•å®ä¾‹ï¼‰

#### åˆ—å‡ºå¯ç”¨æ¨¡å‹

```bash
./switch_model.sh list
```

#### åˆ‡æ¢åˆ°ä¸åŒæ¨¡å‹

```bash
# åˆ‡æ¢åˆ°Mistralè¿›è¡Œç¼–ç¨‹
./switch_model.sh switch mistral-7b.gguf

# åˆ‡æ¢åˆ°Llama 3è¿›è¡Œå¯¹è¯
./switch_model.sh switch llama3-8b.gguf

# åˆ‡æ¢å›Phi-3ä»¥è·å¾—é€Ÿåº¦
./switch_model.sh switch phi3-mini-4k.gguf
```

### ä¸‹è½½é¢å¤–æ¨¡å‹

```bash
cd models/

# ä¸‹è½½Llama 3 8B
wget -O llama3-8b.gguf https://huggingface.co/bartowski/Meta-Llama-3-8B-Instruct-GGUF/resolve/main/Meta-Llama-3-8B-Instruct-Q4_K_M.gguf

# ä¸‹è½½Code Llama
wget -O codellama-7b.gguf https://huggingface.co/bartowski/CodeLlama-7B-Instruct-GGUF/resolve/main/CodeLlama-7B-Instruct-v0.3-Q4_K_M.gguf

# ä¸‹è½½Mistral 7B
wget -O mistral-7b.gguf https://huggingface.co/bartowski/Mistral-7B-Instruct-v0.3-GGUF/resolve/main/Mistral-7B-Instruct-v0.3-Q4_K_M.gguf
```

### æ¨¡å‹æ¨è

- **ğŸƒ å¿«é€Ÿé—®é¢˜**: ä½¿ç”¨Phi-3 (ç«¯å£5001) - æœ€å¿«ï¼Œæœ€å°
- **ğŸ’» ç¼–ç¨‹å¸®åŠ©**: ä½¿ç”¨Mistral 7B (ç«¯å£5002) æˆ– Code Llama
- **ğŸ§  æ·±åº¦å¯¹è¯**: ä½¿ç”¨Llama 3 8B (ç«¯å£5003) - æœ€ä½³è´¨é‡
- **âš¡ ä½å†…å­˜**: ä½¿ç”¨Phi-3 (ä»…éœ€4GB RAM)
- **ğŸ”§ å¼€å‘**: åŒæ—¶è¿è¡Œæ‰€æœ‰å®ä¾‹ä»¥å¤„ç†ä¸åŒä»»åŠ¡

## ç³»ç»Ÿéœ€æ±‚

### ç¡¬ä»¶éœ€æ±‚

| é…ç½® | ä»…é€šç”¨ | é€šç”¨ + ç¼–ç¨‹ | æ‰€æœ‰å®ä¾‹ |
|---------------|-------------|------------------|---------------|
| **RAM** | 4GB+ | 8GB+ | 12GB+ |
| **CPU** | 2+ æ ¸å¿ƒ | 4+ æ ¸å¿ƒ | 6+ æ ¸å¿ƒ |
| **å­˜å‚¨** | 6GB | 12GB | 18GB |

**æ¨èç³»ç»Ÿè§„æ ¼:**
- **å†…å­˜**: å•å®ä¾‹4GB+ RAMï¼Œæ‰€æœ‰å®ä¾‹12GB+
- **å­˜å‚¨**: 15GB+ å¯ç”¨ç£ç›˜ç©ºé—´ï¼ˆç”¨äºæ‰€æœ‰æ¨¡å‹å’Œå®¹å™¨ï¼‰
- **CPU**: 2+ æ ¸å¿ƒï¼ˆå¤šå®ä¾‹æ¨è8+ï¼‰
- **æ¶æ„**: macOS/Linux (ARM64/x86_64)

### è½¯ä»¶éœ€æ±‚

- **Docker**: 20.10+
- **Docker Compose**: 2.0+
- **æ“ä½œç³»ç»Ÿ**: macOS, Linux, æˆ– WSL2
- **curl**: ç”¨äºCLIå·¥å…·
- **Python 3**: ç”¨äºè„šæœ¬ä¸­çš„JSONè§£æ

## å®‰å…¨ç‰¹æ€§

### å®¹å™¨å®‰å…¨

- **éš”ç¦»**: æ¯ä¸ªå®ä¾‹çš„æ²™ç›’Dockerç¯å¢ƒ
- **érootæ‰§è¡Œ**: ä½œä¸º `llmuser:1000` è¿è¡Œ
- **èµ„æºé™åˆ¶**: æ¯ä¸ªå®ä¾‹çš„CPUã€å†…å­˜å’ŒPIDçº¦æŸ
- **ç½‘ç»œéš”ç¦»**: è‡ªå®šä¹‰æ¡¥æ¥ç½‘ç»œï¼Œç¦ç”¨å®¹å™¨é—´é€šä¿¡
- **åªè¯»æ–‡ä»¶ç³»ç»Ÿ**: é˜²æ­¢æœªç»æˆæƒçš„ä¿®æ”¹
- **èƒ½åŠ›ä¸¢å¼ƒ**: ç§»é™¤æ‰€æœ‰ä¸å¿…è¦çš„Linuxèƒ½åŠ›

#### æ¯å®ä¾‹èµ„æºåˆ†é…

**é€šç”¨å®ä¾‹ (Phi-3)**:
- CPU: æœ€å¤§2æ ¸å¿ƒï¼Œä¿ç•™0.5
- å†…å­˜: æœ€å¤§4GBï¼Œä¿ç•™1GB  
- ç½‘ç»œ: `172.25.1.0/24`

**ç¼–ç¨‹å®ä¾‹ (Mistral)**:
- CPU: æœ€å¤§3æ ¸å¿ƒï¼Œä¿ç•™1
- å†…å­˜: æœ€å¤§6GBï¼Œä¿ç•™2GB
- ç½‘ç»œ: `172.25.2.0/24`

**èŠå¤©å®ä¾‹ (Llama-3)**:
- CPU: æœ€å¤§4æ ¸å¿ƒï¼Œä¿ç•™1.5
- å†…å­˜: æœ€å¤§8GBï¼Œä¿ç•™3GB
- ç½‘ç»œ: `172.25.3.0/24`

### éšç§ç‰¹æ€§

- **100% ç¦»çº¿**: ä¸å‘å¤–éƒ¨æœåŠ¡å‘é€æ•°æ®
- **æœ¬åœ°å¤„ç†**: æ‰€æœ‰AIæ¨ç†åœ¨æœ¬åœ°è¿›è¡Œ
- **æ— é¥æµ‹**: æ— ä½¿ç”¨è·Ÿè¸ªæˆ–åˆ†æ
- **å®‰å…¨å­˜å‚¨**: æ¨¡å‹å’Œæ•°æ®æœ¬åœ°å­˜å‚¨
- **å®ä¾‹éš”ç¦»**: ä¸åŒå®ä¾‹æ— æ³•è®¿é—®å½¼æ­¤çš„æ•°æ®

## æŠ€æœ¯æ¶æ„

### æ ¸å¿ƒç»„ä»¶

1. **ğŸ§  æœ¬åœ°LLM** - AIæ¨ç†å¼•æ“ (Phi-3/Mistral/Llama)
2. **âš™ï¸ llama.cpp** - é«˜æ€§èƒ½æ¨ç†åç«¯
3. **ğŸŒ Flask API** - ç¨‹åºåŒ–è®¿é—®çš„HTTPæ¥å£
4. **ğŸ³ Dockerå®¹å™¨** - æ¯ä¸ªå®ä¾‹çš„éš”ç¦»æ‰§è¡Œç¯å¢ƒ
5. **ğŸ’» CLIå·¥å…·** - äº¤äº’çš„å‘½ä»¤è¡Œæ¥å£
6. **ğŸ”— å¤šå®ä¾‹ç¼–æ’** - Docker Composeåè°ƒ

### å®¹å™¨è§„æ ¼ï¼ˆæ¯å®ä¾‹ï¼‰

- **åŸºç¡€**: Ubuntu 22.04 (æœ€å°åŒ–)
- **ç”¨æˆ·**: éroot (`llmuser:1000`)
- **å†…å­˜**: æŒ‰å®ä¾‹å˜åŒ– (4GB-8GBé™åˆ¶)
- **CPU**: æŒ‰å®ä¾‹å˜åŒ– (2-4æ ¸å¿ƒé™åˆ¶)
- **å­˜å‚¨**: åªè¯»æ ¹æ–‡ä»¶ç³»ç»Ÿ
- **ç½‘ç»œ**: æ¯ä¸ªå®ä¾‹çš„éš”ç¦»æ¡¥æ¥ç½‘ç»œ

### å¤šå®ä¾‹ç½‘ç»œæ¶æ„

```
ä¸»æœºç³»ç»Ÿ (macOS/Linux)
â”œâ”€â”€ ç«¯å£ 5001 â†’ é€šç”¨å®ä¾‹ (Phi-3)     [172.25.1.0/24]
â”œâ”€â”€ ç«¯å£ 5002 â†’ ç¼–ç¨‹å®ä¾‹ (Mistral-7B) [172.25.2.0/24]
â””â”€â”€ ç«¯å£ 5003 â†’ èŠå¤©å®ä¾‹ (Llama-3 8B)   [172.25.3.0/24]
```

## æ€§èƒ½ä¼˜åŒ–

### ç³»ç»Ÿä¼˜åŠ¿

- **æ¯å®ä¾‹å°67%**: 4GB vs å¤æ‚ç³»ç»Ÿçš„12GB
- **æ›´å¿«å¯åŠ¨**: æ¯å®ä¾‹30ç§’ vs 2åˆ†é’Ÿ
- **æ¯å®ä¾‹æ›´ä½å†…å­˜**: 2-8GB vs 12GB+ RAMä½¿ç”¨
- **æ›´å°‘è¿›ç¨‹**: æ¯å®ä¾‹3ä¸ª vs 20+ä¸ªè¿è¡Œè¿›ç¨‹
- **æ¨ªå‘æ‰©å±•**: æ ¹æ®éœ€è¦æ·»åŠ å®ä¾‹

### å¤šå®ä¾‹ä¼˜åŠ¿

- **ä»»åŠ¡ä¸“ä¸šåŒ–**: æ¯ç§ä»»åŠ¡ç±»å‹çš„æœ€ä¼˜æ¨¡å‹
- **å¹¶è¡Œå¤„ç†**: åŒæ—¶å¤„ç†å¤šä¸ªè¯·æ±‚
- **èµ„æºä¼˜åŒ–**: åŸºäºè´Ÿè½½æ‰©å±•å•ä¸ªå®ä¾‹
- **æ•…éšœéš”ç¦»**: ä¸€ä¸ªå®ä¾‹æ•…éšœä¸å½±å“å…¶ä»–å®ä¾‹

### ç»´æŠ¤ä¼˜åŠ¿

- **æ›´ç®€å•è°ƒè¯•**: æ¯ä¸ªå®ä¾‹æ›´å°‘ç»„ä»¶éœ€è¦æ•…éšœæ’é™¤
- **æ›´å®¹æ˜“æ›´æ–°**: ç‹¬ç«‹æ›´æ–°å•ä¸ªå®ä¾‹
- **æ›´æ¸…æ´çš„æ—¥å¿—**: å®ä¾‹ç‰¹å®šæ—¥å¿—
- **æ›´å¿«å¤‡ä»½**: å®ä¾‹ç‰¹å®šé…ç½®å¤‡ä»½

## æ•…éšœæ’é™¤

### å•å®ä¾‹é—®é¢˜

- **ç«¯å£æ­£åœ¨ä½¿ç”¨**: æ£€æŸ¥ç«¯å£5001æ˜¯å¦å¯ç”¨
- **æ‰¾ä¸åˆ°æ¨¡å‹**: éªŒè¯æ¨¡å‹æ–‡ä»¶å­˜åœ¨äº `models/`
- **å†…å­˜é—®é¢˜**: ç¡®ä¿æ‰€é€‰æ¨¡å‹æœ‰è¶³å¤ŸRAM
- **æƒé™é”™è¯¯**: æ£€æŸ¥Dockeræƒé™

### å¤šå®ä¾‹é—®é¢˜

**ç«¯å£å·²åœ¨ä½¿ç”¨**:
```bash
# æ£€æŸ¥ä»€ä¹ˆåœ¨ä½¿ç”¨ç«¯å£
lsof -i :5001
sudo netstat -tulpn | grep :5001

# ç»ˆæ­¢å†²çªè¿›ç¨‹æˆ–ä½¿ç”¨ä¸åŒç«¯å£
```

**å†…å­˜ä¸è¶³**:
```bash
# æ£€æŸ¥å†…å­˜ä½¿ç”¨
free -h
docker stats

# åœæ­¢ä¸å¿…è¦çš„å®ä¾‹
./automate_multi_instance.sh stop chat  # æœ€å¤§å®ä¾‹
```

**å®¹å™¨æ— æ³•å¯åŠ¨**:
```bash
# æ£€æŸ¥é”™è¯¯æ—¥å¿—  
./automate_multi_instance.sh logs general

# å¦‚æœ‰éœ€è¦é‡æ–°æ„å»º
docker-compose -f docker-compose.multi-instance.yml build --no-cache
```

## å¿«é€Ÿå‚è€ƒ

### åŸºæœ¬å‘½ä»¤

| å‘½ä»¤ | æè¿° |
|---------|-------------|
| `docker-compose -f docker-compose.multi-instance.yml up -d` | å¯åŠ¨æ‰€æœ‰å®ä¾‹ |
| `./ask_llm.sh health` | æ‰€æœ‰å®ä¾‹å¥åº·æ£€æŸ¥ |
| `./ask_llm.sh general "é—®é¢˜"` | è¯¢é—®Phi-3 (å¿«é€Ÿï¼Œé€šç”¨) |
| `./ask_llm.sh coding "é—®é¢˜"` | è¯¢é—®Mistral-7B (ç¼–ç¨‹) |
| `./ask_llm.sh chat "é—®é¢˜"` | è¯¢é—®Llama-3 (å¯¹è¯) |
| `python3 ask_llm.py --interactive` | LLMåˆ‡æ¢çš„äº¤äº’æ¨¡å¼ |
| `docker ps --filter "name=simplebrain"` | æ£€æŸ¥è¿è¡Œä¸­çš„å®¹å™¨ |
| `docker-compose -f docker-compose.multi-instance.yml down` | åœæ­¢æ‰€æœ‰å®ä¾‹ |

### å®¢æˆ·ç«¯å·¥å…·å¿«é€Ÿå…¥é—¨

| å·¥å…· | æœ€é€‚åˆ | ç¤ºä¾‹ |
|------|----------|---------|
| `ask_llm.sh` | å¿«é€Ÿé—®é¢˜ï¼Œè„šæœ¬ | `./ask_llm.sh coding "ä¿®å¤è¿™ä¸ªPythonä»£ç "` |
| `ask_llm.py` | äº¤äº’ä¼šè¯ | `python3 ask_llm.py --interactive` |
| `ask_agent.sh` | ä¼ ç»Ÿå•å®ä¾‹ | `./ask_agent.sh "é€šç”¨é—®é¢˜"` |
| `cli_agent.py` | ä¼ ç»Ÿäº¤äº’ | `./cli_agent.py` |

### ç«¯å£å‚è€ƒ

| ç«¯å£ | å®ä¾‹ | æ¨¡å‹ | ç”¨ä¾‹ |
|------|----------|-------|----------|
| 5001 | General | Phi-3 Mini 4K | å¿«é€Ÿé—®é¢˜ï¼Œé€šç”¨ä»»åŠ¡ |
| 5002 | Coding | Mistral-7B | ç¼–ç¨‹ï¼Œä»£ç å®¡æŸ¥ |
| 5003 | Chat | Llama-3 8B | å¯¹è¯ï¼Œåˆ†æ |

---

**SimpleBrain** - ä½ çš„ä¸ªäººAIåŠ©æ‰‹ï¼Œç®€åŒ–å¹¶ä¼˜åŒ–ç”¨äºå•å®ä¾‹å’Œå¤šå®ä¾‹éƒ¨ç½²ï¼ ğŸ§ âœ¨

*ç°åœ¨å…·æœ‰ä¸“ä¸šAIå·¥ä½œè´Ÿè½½çš„å¤šå®ä¾‹æ¶æ„åŠŸèƒ½!*